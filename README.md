<div align="center">
<h1>
 DevOpsPal
</h1>
</div>

<p align="center">
ğŸ¤— <a href="https://huggingface.co" target="_blank">DevOpsPal-7B-Base</a> 
  â€¢ 
ğŸ¤— <a href="https://huggingface.co" target="_blank">DevOpsPal-7B-Chat</a> 
</p>

<div align="center">
<h4 align="center">
    <p>
        <b>ä¸­æ–‡</b> |
        <a href="https://github.com/luban-agi/DevOpsPal/main/README.md">English</a>
    <p>
</h4>
</div>

# æœ€æ–°
- [2023.9.30] ......

<br>
<br>
<br>

# ä»‹ç»
DevOpsPal æ˜¯ä¸€ç³»åˆ—åŸºäº DevOps çŸ¥è¯†çš„å¼€æºå¤§è¯­è¨€æ¨¡å‹ï¼Œæ—¨åœ¨ä¸ºäº†å¸®åŠ©å·¥ç¨‹å¸ˆåœ¨ DevOps æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåšåˆ°æœ‰é—®é¢˜ï¼Œé—® DevOpsPalã€‚

DevOps å°†æ•´ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸ºäº†ä¸ƒä¸ªé˜¶æ®µï¼Œåˆ†åˆ«ä¸ºï¼šè®¡åˆ’ï¼Œç¼–ç ï¼Œæ„å»ºï¼Œæµ‹è¯•ï¼Œéƒ¨ç½²ï¼Œè¿ç»´ï¼Œè§‚å¯Ÿã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ•´ä¸ªå‘¨æœŸå±äºä¸€ä¸ªæ— é™çš„å¾ªç¯ã€‚
<br>
<div  align="center">
 <img src="https://github.com/luban-agi/DevOpsPal/blob/main/image/devops_flow.png" width = "700" height = "350" alt="devops flow" align=center />
</div>

åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼Œæ¯ä¸€æ­¥åœ¨å®æ–½çš„æ—¶å€™ï¼Œéƒ½ä¼šäº§ç”Ÿå„ç§çš„é—®é¢˜éœ€è¦å»æœå¯»ç­”æ¡ˆï¼Œæ¯”å¦‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦äº†è§£æŸä¸ªåŒ…çš„å‡½æ•°ã€‚ä»¥å¾€ä¼šä¸»è¦ä»ç½‘ç»œä¸Šæœç´¢ç›¸å…³çš„ç­”æ¡ˆï¼Œè¿™ä¸€æ­¥ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œè€Œä¸”å¯èƒ½è¿˜æ‰¾ä¸åˆ°æƒ³è¦çš„ç»“æœã€‚

æ‰€ä»¥æˆ‘ä»¬åŸºäºè‡ªå·±æ”¶é›†çš„ DevOps çš„ç›¸å…³æ•°æ®ï¼Œäº§å‡ºäº†é¦–ä¸ªä»¥å¸®åŠ©å·¥ç¨‹å¸ˆåœ¨æ•´ä¸ª DevOps ç”Ÿå‘½å‘¨æœŸä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸ºç›®çš„çš„å¤§æ¨¡å‹ï¼Œå–åä¸º DevOpsPalã€‚æˆ‘ä»¬åˆ†åˆ«å¼€æºäº†ç»è¿‡ DevOps è¯­æ–™åŠ è®­è¿‡çš„ Base æ¨¡å‹å’Œç»è¿‡ DevOps QA æ•°æ®å¯¹é½è¿‡åçš„ Chat æ¨¡å‹ã€‚åœ¨ DevOps çš„è¯„æµ‹æ¦œå•ä¸Šï¼Œæˆ‘ä»¬çš„æ¨¡å‹å–å¾—äº†åŒå‚æ•°é‡çº§åˆ« SOTA çš„æ°´å¹³ã€‚ç›¸å…³è®­ç»ƒæ•°æ®é›†å’Œè¯„æµ‹æ•°æ®é›†ä¹Ÿå·²ç»å¼€æºã€‚

<br>
<br>
<br>


# æ¨¡å‹

| **æ¨¡å‹å** | **å‚æ•°é‡** | **è®­ç»ƒæ•°æ®** | **åŸºç¡€æ¨¡å‹** | **åœ°å€** |
| :--- | :---- |:----| :---- | :----| 
| DevOpsPal-7B | 7B | DevOps Corpus|Qwen-7B | Coming soon|
| DevOpsPal-7B-Chat | 7B | DevOps Corpus + DevOps QA| Qwen-7B | Coming soon|
| DevOpsPal-13B | 13B | DevOps Corpus| Baichuan-13B | Coming soon|
| DevOpsPal-13B-Chat | 13B | DevOps Corpus + DevOps QA| Baichuan-13B | Coming soon|

<br>
<br>
<br>



# è¯„æµ‹
Coming soon

<br>
<br>
<br>

# ä½¿ç”¨
## æ¨ç†
Coming soon

<br>
<br>
<br>

## å¾®è°ƒ
æ•´ä½“è®­ç»ƒæ¡†æ¶æ˜¯åŸºäº LLaMA-Efficient-Tuning å¼€æºåº“ä¿®æ”¹è€Œæ¥ï¼Œæ„Ÿè°¢ä½œè€…çš„ä»˜å‡ºã€‚æ›´åŠ è¯¦ç»†çš„æ–‡æ¡£å¯ä»¥ç§»æ­¥  [LLaMA-Efficient-Tuning](https://github.com/hiyouga/LLaMA-Efficient-Tuning/tree/main) ã€‚

### æ•°æ®å‡†å¤‡
ä»£ç å†…éƒ¨é€šè¿‡è°ƒç”¨ datasets.load_dataset è¯»å–æ•°æ®ï¼Œæ”¯æŒ load_dataset æ‰€æ”¯æŒçš„æ•°æ®è¯»å–æ–¹å¼ï¼Œæ¯”å¦‚ jsonï¼Œcsvï¼Œè‡ªå®šä¹‰è¯»å–è„šæœ¬ç­‰æ–¹å¼ï¼ˆä½†æ¨èæ•°æ®å‡†å¤‡ä¸º jsonl æ ¼å¼çš„æ–‡ä»¶ï¼‰ã€‚ç„¶åè¿˜éœ€è¦æ›´æ–° `data/dataset_info.json` æ–‡ä»¶ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ `data/README.md`ã€‚


### Pretrain
å¦‚æœæ”¶é›†äº†ä¸€æ‰¹æ–‡æ¡£ä¹‹ç±»çš„è¯­æ–™ï¼ˆæ¯”å¦‚å…¬å¸å†…éƒ¨äº§å“çš„æ–‡æ¡£ï¼‰ï¼Œå¯ä»¥æ‰§è¡Œ `scripts/devopspal-pt.sh` æ¥å‘èµ·ä¸€æ¬¡åŠ è®­æ¥è®©æ¨¡å‹å­¦ä¹ åˆ°è¿™æ‰¹æ–‡æ¡£çš„çŸ¥è¯†ï¼Œä»£ç å¦‚ä¸‹:

```bash
set -v 

torchrun --nproc_per_node=4 --nnodes=$WORLD_SIZE --master_port=$MASTER_PORT --master_addr=$MASTER_ADDR --node_rank=$RANK src/train_bash.py \
    --deepspeed conf/deepspeed_config.json \    # deepspeed é…ç½®åœ°å€
	--stage pt \    # ä»£è¡¨æ‰§è¡Œ pretrain
    --model_name_or_path path_to_model \    # huggingfaceä¸‹è½½çš„æ¨¡å‹åœ°å€
    --do_train \
    --report_to 'tensorboard' \
    --dataset your_corpus \    # æ•°æ®é›†åå­—ï¼Œè¦å’Œåœ¨ dataset_info.json ä¸­å®šä¹‰çš„ä¸€è‡´
    --template default \    # templateï¼Œpretrain å°±æ˜¯ default
    --finetuning_type full \  # å…¨é‡æˆ–è€… lora
    --output_dir path_to_output_checkpoint_path \    # æ¨¡å‹ checkpoint ä¿å­˜çš„è·¯å¾„
    --overwrite_cache \
    --per_device_train_batch_size 8 \    
    --per_device_eval_batch_size 8 \
    --gradient_accumulation_steps 1 \
    --lr_scheduler_type cosine \
    --warmup_ratio 0.05 \
    --evaluation_strategy steps \
    --logging_steps 10 \
    --max_steps 1000 \
    --save_steps 1000 \
    --eval_steps 1000 \
    --learning_rate 5e-6 \
    --plot_loss \
    --max_source_length=2048 \
    --dataloader_num_workers 8 \
    --val_size 0.01 \
    --bf16 \
    --overwrite_output_dir
```

ä½¿ç”¨è€…å¯ä»¥åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè°ƒæ•´æ¥å‘èµ·è‡ªå·±çš„è®­ç»ƒï¼Œæ›´åŠ è¯¦ç»†çš„å¯é…ç½®é¡¹å»ºè®®é€šè¿‡ `python src/train_bash.py -h` æ¥è·å–å®Œæ•´çš„å‚æ•°åˆ—è¡¨ã€‚


### SFT


<br>
<br>
<br>

## é‡åŒ–
Coming soon

<br>
<br>
<br>

# æ•°æ®
## DevOps Corpus
Coming soon

<br>
<br>
<br>

## DevOps QA
Coming soon

<br>
<br>
<br>


# å…è´£å£°æ˜


<br>
<br>
<br>

# Star History
[![Star History Chart](https://api.star-history.com/svg?repos=luban-agi/DevOpsPal&type=Date)](https://star-history.com/#luban-agi/DevOpsPal&Date)
